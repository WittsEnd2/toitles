doctype html
html(lang='en')
  head
    meta(charset='utf-8')
    meta(http-equiv='X-UA-Compatible', content='IE=edge')
    meta(name='viewport', content='width=device-width, initial-scale=1')
    // The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags
    meta(name='description', content='')
    meta(name='author', content='')
    link(rel='icon', href='../../favicon.ico')
    link(rel='stylesheet', href='css/main.css')
    title toitles - Register
    // Latest compiled and minified CSS
    link(rel='stylesheet', href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css', integrity='sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7', crossorigin='anonymous')
    // Optional theme
    link(rel='stylesheet', href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css', integrity='sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r', crossorigin='anonymous')
    // Latest compiled and minified JavaScript
    script(src='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js', integrity='sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS', crossorigin='anonymous')
    // Bootstrap core CSS
    link(href='../../dist/css/bootstrap.min.css', rel='stylesheet')
    // IE10 viewport hack for Surface/desktop Windows 8 bug
    link(href='../../assets/css/ie10-viewport-bug-workaround.css', rel='stylesheet')
    // Custom styles for this template
    link(href='css/starter-template.css', rel='stylesheet')
    // Just for debugging purposes. Don't actually copy these 2 lines!
    //if lt IE 9
      script(src='../../assets/js/ie8-responsive-file-warning.js')
    script(src='../../assets/js/ie-emulation-modes-warning.js')
    // Placed at the end of the document so the pages load faster
    script(src='https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js')
    script.
      window.jQuery || document.write('<script src="../../assets/js/vendor/jquery.min.js"><\\/script>')
    // HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries
    //if lt IE 9
      script(src='https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js')
      script(src='https://oss.maxcdn.com/respond/1.4.2/respond.min.js')
    script(src='https://cdn.firebase.com/js/client/2.2.1/firebase.js')
    script.
      $(function() {
      $( "#register" ).click(function () {
      var first_name = $('#first_name').val();
      var last_name = $('#last_name').val();
      var email = $('#email').val();
      var pass = $('#password').val();
      var pass2 = $('#password_confirmation').val();
      var ref = new Firebase("https://toitle.firebaseio.com");
      if(pass == pass2){
      ref.createUser({
      name: first_name,
      last_name: last_name,
      email: email,
      password: pass
      }, function(error, userData) {
      if (error) {
      switch (error.code) {
      case "EMAIL_TAKEN":
      console.log("The new user account cannot be created because the email is already in use.");
      break;
      case "INVALID_EMAIL":
      console.log("The specified email is not a valid email.");
      break;
      default:
      console.log("Error creating user:", error);
      }
      } else {
      alert("Account successfully created!");
      ref.child('users').child(userData.uid).set({
      first_name: first_name,
      last_name: last_name,
      uid: userData.uid,
      email: email
      });
      window.location = "/";
      }
      });
      } else {
      console.log("Registration error: password mismatch.");
      }
      });
      });
  body
    script(src='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js', integrity='sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS', crossorigin='anonymous')
    nav.navbar.navbar-inverse.navbar-fixed-top
      .container
        .navbar-header
          button.navbar-toggle.collapsed(type='button', data-toggle='collapse', data-target='#navbar', aria-expanded='false', aria-controls='navbar')
            span.sr-only Toggle navigation
            span.icon-bar
            span.icon-bar
            span.icon-bar
          a.navbar-brand(href='#') toitles
        #navbar.collapse.navbar-collapse
          ul.nav.navbar-nav
            li
              a(href='/') Home
            li.active
              a(href='register') Register
            li
              a(href='addMap') Add Event
            li
              a(href='findEvents') Find Event
            li
              a(href='dashboard') Dashboard
        // /.nav-collapse
    .container
      .row
        .col-xs-12
          p.Main-Title.text-center register
      .row.centered-form.registrationBackground
        .col-xs-12.col-sm-8.col-md-4.col-sm-offset-2.col-md-offset-4
          .panel.panel-default
            .panel-heading
              h3.panel-title
                | initiation 
                small commence friendships
            .panel-body
              form#register(role='form', name='register')
                .row
                  .col-xs-6.col-sm-6.col-md-6
                    .form-group
                      input#first_name.form-control.input-sm.floatlabel(type='text', name='first_name', placeholder='first name')
                  .col-xs-6.col-sm-6.col-md-6
                    .form-group
                      input#last_name.form-control.input-sm(type='text', name='last_name', placeholder='last name')
                .form-group
                  input#email.form-control.input-sm(type='email', name='email', placeholder='email')
                .row
                  .col-xs-6.col-sm-6.col-md-6
                    .form-group
                      input#password.form-control.input-sm(type='password', name='password', placeholder='password')
                  .col-xs-6.col-sm-6.col-md-6
                    .form-group
                      input#password_confirmation.form-control.input-sm(type='password', name='password_confirmation', placeholder='confirm password')
                input.btn.btn-info.btn-block(type='button', value='start')
    //
      Bootstrap core JavaScript
      ==================================================
    script(src='../../dist/js/bootstrap.min.js')
    // IE10 viewport hack for Surface/desktop Windows 8 bug
    script(src='../../assets/js/ie10-viewport-bug-workaround.js')
