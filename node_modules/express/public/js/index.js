var ref = new Firebase("https://toitle.firebaseio.com");


// function userAuthenticate(){
//   var userEmail = document.getElementById("userUsername").value;
//   var userPassword = document.getElementById("userPassword").value;
//   console.log(document.getElementById("userUsername").value);
//   console.log(document.getElementById("userPassword").value);
//   ref.authWithPassword({
//     email : userEmail,
//     password : userPassword
//   }, function(error, authData){
//     if(error){
//       console.log("Login Failed!", error);
//       setTimeout(function(){
//         window.location.href = "/";
//       }, 2000);
//     } else {
//       console.log("Authenticated successfully!", authData);
//       setTimeout(function(){
//         window.location.href = "dashboard";
//       }, 2000);
//     }
//     remember: "sessionOnly"
//   });
//   return false;
// }

         $(function() {
          function authHandler(error, authData) {
            if (error) {
              alert("Login Failed!", error);
            } else {
              console.log("Authenticated successfully with payload:", authData);
              window.location = "dashboard.html";
            }
          }
          
          $( "#login" ).click(function () {
            var email = $('#email').val();
            var password = $('#password').val();
            console.log(email + " " + password);
              // Or with an email/password combination
              ref.authWithPassword({
                email    : email,
                password : password
              }, authHandler);
            });

          
          
        });
         var ref = new Firebase("https://toitle.firebaseio.com");
         ref.unauth();

         var authData = ref.getAuth();
         ref.unauth();
         if (authData) {
          console.log("User " + authData.uid + " is logged in with " + authData.provider);
          window.location = "dashboard.html";
        } else {
          console.log("User is logged out");
        }
        

